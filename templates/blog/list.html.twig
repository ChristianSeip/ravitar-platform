{% extends 'base.html.twig' %}

{% block title %}Beiträge{% endblock %}

{% block content %}
    <h1 class="text-3xl font-bold mb-6">Blog</h1>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for article in articles %}
            <article class="bg-white shadow rounded overflow-hidden hover:shadow-lg transition">
                {% if article.imageUrl %}
                    <img src="{{ article.imageUrl }}" alt="{{ article.title }}" class="w-full h-48 object-cover">
                {% endif %}
                <div class="p-4">
                    <h2 class="text-xl font-semibold mb-2">
                        <a href="{{ path('blog_show', {id: article.id}) }}" class="hover:text-blue-600">
                            {{ article.title }}
                        </a>
                    </h2>
                    <p class="text-gray-700 mb-4">
                        {{ article.content|striptags|slice(0,150) ~ '…' }}
                    </p>
                    <div class="flex flex-wrap gap-2 text-sm">
                        {% for tag in article.tags %}
                            <a href="{{ path('blog_list', {tag: tag.name}) }}"
                               class="bg-gray-200 px-2 py-1 rounded hover:bg-gray-300">
                                #{{ tag.name }}
                            </a>
                        {% endfor %}
                    </div>
                </div>
            </article>
        {% else %}
            <p class="text-center text-gray-500">Keine Artikel gefunden.</p>
        {% endfor %}
    </div>
{% endblock %}