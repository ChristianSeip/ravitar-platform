{% if pagination.totalPages > 1 %}
    {% set routeParams = routeParams ?? {} %}
    <nav class="mt-12 flex justify-center items-center gap-2 text-sm select-none" role="navigation" aria-label="Pagination">

        {% if pagination.hasPrevious() %}
            <a href="{{ path(app.request.attributes.get('_route'), routeParams | merge(app.request.query.all | merge({'page': pagination.page - 1}))) }}"
               class="px-3 py-1 rounded border border-[var(--color-gray-300)] bg-[var(--color-background)] text-[var(--color-gray-800)] hover:bg-[var(--color-gray-200)] transition-colors">
                « Zurück
            </a>
        {% endif %}

        {% for i in 1..pagination.totalPages %}
            {% set isActive = i == pagination.page %}
            <a href="{{ path(app.request.attributes.get('_route'), routeParams | merge(app.request.query.all | merge({'page': i}))) }}"
               class="px-3 py-1 rounded border text-sm transition-colors
                      {{ isActive
               ? 'bg-[var(--color-primary-500)] text-white border-[var(--color-primary-500)] font-semibold'
               : 'border-[var(--color-gray-300)] bg-[var(--color-background)] text-[var(--color-gray-800)] hover:bg-[var(--color-gray-200)]'
               }}">
                {{ i }}
            </a>
        {% endfor %}

        {% if pagination.hasNext() %}
            <a href="{{ path(app.request.attributes.get('_route'), routeParams | merge(app.request.query.all | merge({'page': pagination.page + 1}))) }}"
               class="px-3 py-1 rounded border border-[var(--color-gray-300)] bg-[var(--color-background)] text-[var(--color-gray-800)] hover:bg-[var(--color-gray-200)] transition-colors">
                Weiter »
            </a>
        {% endif %}

    </nav>
{% endif %}
